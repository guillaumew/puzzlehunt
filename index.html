
<!DOCTYPE html>
<html>
<head>
	<title>Puzzle Hunt</title>
	<meta charset="utf-8">
</head>
<body>

<h1>Puzzle Hunt</h1>
<p> Explore ta ville en enigmes</p>
<p id="location"></p>
<p id="machines"></p>
<script type="text/javascript">
function getPosition(){
	navigator.geolocation.getCurrentPosition(function(position) {
	  document.getElementById("location").innerHTML = "Lattitude : " + position.coords.latitude + " / Longitude : "  + position.coords.longitude ;
	  var B2 = position.coords.latitude;
	  var C2 = position.coords.longitude;
	  var B3 = 47.205581;
	  var C3 = -1.5640409999999747;
	  var distance =  Math.acos(Math.sin(B2 * Math.PI / 180)*Math.sin((Math.PI / 180 * B3))+Math.cos((Math.PI / 180 * B2))*Math.cos((Math.PI / 180 * B3))*Math.cos(Math.PI / 180 * (C2-C3)))*6371 ;

	  document.getElementById("machines").innerHTML = " Vous êtes à " + Math.floor(distance*100)/100 + "km des machines de l'Ile";
	});
}
getPosition();

setInterval(getPosition,1000);

</script>

</body>
</html>
